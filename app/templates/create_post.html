{% extends "base.html" %}
{% block app_content %}
    <div class="mx-auto my-5 p-4 w-50 border border-2 rounded-3 bg-light shadow">
        <turbo-frame id="new-post form">
            <form class="justify-content-center" method="post" enctype="multipart/form-data">
                {{ form.csrf_token }}
                <div class="mb-3">
                    <label for="titleField" class="form-label">Title</label>
                    {{ form.title(class="form-control", id="titleField") }}
                </div>
                <div class="mb-3">
                    <label for="bodyField" class="form-label">Posts text</label>
                    {{ form.body(class="form-control", id="bodyField", placeholder="Enter your post here.") }}
                </div>
                <div class="mb-3">
                    <label for="imgField" class="form-label">Select picture</label>
                    {{ form.img(class="form-control", id="imgField", placeholder="Upload picture") }}
                </div>
                <div class="mb-3">
                    {{ form.submit(type="submit", class="btn btn-primary") }}
                </div>
                 {% with messages = get_flashed_messages(with_categories=true) %}
                    {% if messages %}
                        {% for category, message in messages %}
                            <div class="alert alert-{{ category }}" role="alert">{{ message }}</div>
                        {% endfor %}
                    {% endif %}
                {% endwith %}
            </form>
        </turbo-frame>
    </div>
{% endblock %}
